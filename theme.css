:root {
	--background-color: hsl(47, 100%, 97%);

	--primary-card-color: hsl(60, 57%, 90%);
	--secondary-card-color: hsl(34, 100%, 90%);
	--card-border-radius: 0.2lh;
	--large-card-padding: 1.25lh;
	--small-card-padding: 0.5lh;

	--button-color: hwb(60 84% 4%);
	--button-border-radius: 0.3lh;
	--button-padding: 0.4lh;

	--top-navbar-color: hsl(34, 45%, 70%);
	--side-navbar-color: hsl(34, 75%, 90%);

	--primary-border-color: hsl(0, 0%, 75%);
	--secondary-border-color: hsl(0, 0%, 55%);

	--primary-border: 0.1em solid var(--primary-border-color);
	--secondary-border: 0.1em solid var(--secondary-border-color);
}

/* Common CSS, shared with all pages */

body {
	font: 1em/1.2 sans-serif;
	margin: 1lh;
	background-color: var(--background-color);
}

a {
	color: unset;
}

th,
td {
	padding: 0.05em;
}

/* Section card specific CSS */

section {
	background-color: var(--primary-card-color);
	padding: var(--large-card-padding);
	display: inline-block;
	margin: 0 1lh 1lh 0;
}

.subsection {
	background-color: var(--secondary-card-color);
	padding: var(--small-card-padding);
}

section,
.subsection {
	border: var(--primary-border);
	border-radius: var(--card-border-radius);
}

section h2,
section h3 {
	margin-top: 0;
}

section h3 {
	font-size: 1lh;
}

/* Homescreen-specific CSS */

.active-courses {
	display: flex;
	flex-wrap: wrap;
	align-items: flex-start;
}

nav.settings {
	float: right;
	margin-top: 0.5lh;
}

nav.settings a {
	background-color: var(--button-color);
	border: var(--primary-border);
	border-radius: var(--button-border-radius);
	padding: var(--button-padding);
	margin-left: 0.5lh;
	text-decoration: none;
}

.course-card .subsection a {
	text-decoration: unset;
}

@media (max-width: 768px) {
	.progress-map .expanded-data {
		display: none;
	}
}

/* App Page specific CSS */

.app-page {
	margin: 0;
	border-collapse: collapse;
}

.app-page header h1 {
	font-size: 1.1lh;
}

.app-page > header {
	background-color: var(--top-navbar-color);
	border-bottom: var(--secondary-border);
	height: 1lh;
	padding: 1lh;
	display: flex;
	align-items: center;
	justify-content: space-between;
}

.app-page > header > nav {
	display: flex;
	align-items: center;
}

.app-page > header > nav a {
	background-color: var(--button-color);
	border: var(--secondary-border);
	border-radius: var(--button-border-radius);
	padding: var(--button-padding);
	text-decoration: none;
	margin-left: 0.8lh;
}

.app-page > main > nav {
	background-color: var(--side-navbar-color);
	border-right: var(--secondary-border);
	padding: 0.8lh 0.8em 0.8lh 0.8lh;
	overflow: auto;
	width: calc(2lh + 20ch);
	resize: horizontal;
	position: relative;
}

.app-page > main {
	display: flex;
	height: calc(100vh - (3lh + 0.1em));
}

.app-page > main > nav h2 {
	margin-top: 0;
	margin-bottom: 0.5lh;
	font-size: 1lh;
}

.app-page > main > nav a {
	text-decoration: unset;
}

.app-page > main > nav a:hover {
	text-decoration: underline;
}

.app-page > main > nav ul,
.app-page > main > nav ol {
	margin: 0;
	padding-left: 1lh;
}

.app-page > main > nav li {
	margin: calc((1lh - 1ch)/2) 0;
}

.app-page > main > nav ol ul {
	list-style: none;
}

.app-page > main > nav details {
	padding-left: calc(1lh - 1ic);
}

.app-page > main > nav details ul {
	padding-left: calc(2lh - (1lh - 1ic));
}

.app-page > main > nav footer {
	position: absolute;
	bottom: 0;
	margin: 0 0.8lh 0.8lh 0;
}

.app-page > main > :not(nav) {
	border: none;
	flex-grow: 1;
	background-color: white;
}

@media (max-width: calc(245px + 2lh + 110ch)) {
	.app-page > main > nav {
		width: unset !important;
		resize: none;
	}

	.app-page > main > nav:not(:hover) > * {
		display: none;
	}
}

@media (max-width: calc(38px + 29px + (40ch * 1.3) + 189px)) {
	.course-viewer > header table {
		display: none;
	}
}

@media (max-width: calc(38px + 29px + (40ch * 1.3) + 240px)) {
	.course-viewer > header table td.expanded-data {
		display: none;
	}
}

/* Course Map -specific CSS */

button[type="button"] {
	background-color: var(--button-color);
	border: var(--secondary-border);
	border-radius: var(--button-border-radius);
	font-size: 0.8em;
	padding: var(--button-padding);
	cursor: pointer;
}

svg button[type="button"],
li button[type="button"] {
	font-size: 0.75em;
	padding: 0.1lh;
}

pre.mermaid {
	display: inline-block;
	overflow: auto;
	margin: 0;
}

/* Progress Map specific CSS */

.progress-map tbody td {
	width: 1lh;
	height: 1lh;
	border-radius: 10%;
}

.progress-map th,
.progress-map tfoot td {
	font-weight: normal;
	opacity: 0.5;
}

.progress-map th {
	text-align: right;
}

.progress-map tfoot {
	text-align: center;
}

.progress-map.color-key {
	font-size: 0.9em;
	float: right;
}

.progress-map.color-key tbody td {
	width: 0.9lh;
	height: 0.9lh;
}

.progress-map.hourly-progress-map tbody td,
.progress-map.daily-time-progress-map tbody td,
.progress-map.chapter-progress-map tbody td,
.progress-map.daily-chapter-progress-map tbody td {
	border: 0.1em solid transparent;
}

.progress-map.hourly-progress-map tbody td,
.progress-map.daily-time-progress-map tbody td {
	background-color: rgba(0, 16, 0, 0.1);
}

.progress-map.chapter-progress-map tbody td,
.progress-map.daily-chapter-progress-map tbody td {
	background-color: rgba(16, 4, 4, 0.1);
}

.progress-map.daily-time-progress-map .in-progress,
.progress-map.daily-chapter-progress-map .in-progress {
	border: 0.1em solid black;
}

.progress-map.daily-time-progress-map .no-data,
.progress-map.daily-chapter-progress-map .no-data {
	background-color: unset;
}

.progress-map.hourly-progress-map th {
	opacity: 1;
}

.progress-map.daily-time-progress-map .level-1 {
	background-color: rgba(0, 128, 0, 0.4);
}

.progress-map.daily-time-progress-map .level-2,
.progress-map.hourly-progress-map .in-progress {
	background-color: rgba(0, 128, 0, 0.55);
}

.progress-map.daily-time-progress-map .level-3 {
	background-color: rgba(0, 128, 0, 0.7);
}

.progress-map.daily-time-progress-map .level-4 {
	background-color: rgba(0, 128, 0, 0.85);
}

.progress-map.daily-time-progress-map .level-5,
.progress-map.hourly-progress-map .finished {
	background-color: rgba(0, 128, 0, 1);
}

.progress-map.chapter-progress-map .in-progress {
	background-color: rgba(165, 42, 42, 0.55);
}

.progress-map.daily-chapter-progress-map .level-1 {
	background-color: rgba(165, 42, 42, 0.5);
}

.progress-map.daily-chapter-progress-map .level-2 {
	background-color: rgba(165, 42, 42, 0.75);
}

.progress-map.daily-chapter-progress-map .level-3,
.progress-map.chapter-progress-map .finished {
	background-color: rgba(165, 42, 42, 1);
}